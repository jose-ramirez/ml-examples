import utils from '../utils/math'
import _ from 'lodash'
import numeric from 'numeric'

export default {
  data: [
    {
      "grade_1": 34.62365962451697,
      "grade_2": 78.0246928153624,
      "approved": 0
    },
    {
      "grade_1": 30.28671076822607,
      "grade_2": 43.89499752400101,
      "approved": 0
    },
    {
      "grade_1": 35.84740876993872,
      "grade_2": 72.90219802708364,
      "approved": 0
    },
    {
      "grade_1": 60.18259938620976,
      "grade_2": 86.30855209546826,
      "approved": 1
    },
    {
      "grade_1": 79.0327360507101,
      "grade_2": 75.3443764369103,
      "approved": 1
    },
    {
      "grade_1": 45.08327747668339,
      "grade_2": 56.3163717815305,
      "approved": 0
    },
    {
      "grade_1": 61.10666453684766,
      "grade_2": 96.51142588489624,
      "approved": 1
    },
    {
      "grade_1": 75.02474556738889,
      "grade_2": 46.55401354116538,
      "approved": 1
    },
    {
      "grade_1": 76.09878670226257,
      "grade_2": 87.42056971926803,
      "approved": 1
    },
    {
      "grade_1": 84.43281996120035,
      "grade_2": 43.53339331072109,
      "approved": 1
    },
    {
      "grade_1": 95.86155507093572,
      "grade_2": 38.22527805795094,
      "approved": 0
    },
    {
      "grade_1": 75.01365838958247,
      "grade_2": 30.60326323428011,
      "approved": 0
    },
    {
      "grade_1": 82.30705337399482,
      "grade_2": 76.48196330235604,
      "approved": 1
    },
    {
      "grade_1": 69.36458875970939,
      "grade_2": 97.71869196188608,
      "approved": 1
    },
    {
      "grade_1": 39.53833914367223,
      "grade_2": 76.03681085115882,
      "approved": 0
    },
    {
      "grade_1": 53.9710521485623,
      "grade_2": 89.20735013750205,
      "approved": 1
    },
    {
      "grade_1": 69.07014406283025,
      "grade_2": 52.74046973016765,
      "approved": 1
    },
    {
      "grade_1": 67.94685547711617,
      "grade_2": 46.67857410673128,
      "approved": 0
    },
    {
      "grade_1": 70.66150955499435,
      "grade_2": 92.92713789364831,
      "approved": 1
    },
    {
      "grade_1": 76.97878372747498,
      "grade_2": 47.57596364975532,
      "approved": 1
    },
    {
      "grade_1": 67.37202754570876,
      "grade_2": 42.83843832029179,
      "approved": 0
    },
    {
      "grade_1": 89.6767757507208,
      "grade_2": 65.79936592745237,
      "approved": 1
    },
    {
      "grade_1": 50.534788289883,
      "grade_2": 48.85581152764205,
      "approved": 0
    },
    {
      "grade_1": 34.21206097786789,
      "grade_2": 44.20952859866288,
      "approved": 0
    },
    {
      "grade_1": 77.9240914545704,
      "grade_2": 68.9723599933059,
      "approved": 1
    },
    {
      "grade_1": 62.27101367004632,
      "grade_2": 69.95445795447587,
      "approved": 1
    },
    {
      "grade_1": 80.1901807509566,
      "grade_2": 44.82162893218353,
      "approved": 1
    },
    {
      "grade_1": 93.114388797442,
      "grade_2": 38.80067033713209,
      "approved": 0
    },
    {
      "grade_1": 61.83020602312595,
      "grade_2": 50.25610789244621,
      "approved": 0
    },
    {
      "grade_1": 38.78580379679423,
      "grade_2": 64.99568095539578,
      "approved": 0
    },
    {
      "grade_1": 61.379289447425,
      "grade_2": 72.80788731317097,
      "approved": 1
    },
    {
      "grade_1": 85.40451939411645,
      "grade_2": 57.05198397627122,
      "approved": 1
    },
    {
      "grade_1": 52.10797973193984,
      "grade_2": 63.12762376881715,
      "approved": 0
    },
    {
      "grade_1": 52.04540476831827,
      "grade_2": 69.43286012045222,
      "approved": 1
    },
    {
      "grade_1": 40.23689373545111,
      "grade_2": 71.16774802184875,
      "approved": 0
    },
    {
      "grade_1": 54.63510555424817,
      "grade_2": 52.21388588061123,
      "approved": 0
    },
    {
      "grade_1": 33.91550010906887,
      "grade_2": 98.86943574220611,
      "approved": 0
    },
    {
      "grade_1": 64.17698887494485,
      "grade_2": 80.90806058670817,
      "approved": 1
    },
    {
      "grade_1": 74.78925295941542,
      "grade_2": 41.57341522824434,
      "approved": 0
    },
    {
      "grade_1": 34.1836400264419,
      "grade_2": 75.2377203360134,
      "approved": 0
    },
    {
      "grade_1": 83.90239366249155,
      "grade_2": 56.30804621605327,
      "approved": 1
    },
    {
      "grade_1": 51.54772026906181,
      "grade_2": 46.85629026349976,
      "approved": 0
    },
    {
      "grade_1": 94.44336776917852,
      "grade_2": 65.56892160559052,
      "approved": 1
    },
    {
      "grade_1": 82.36875375713919,
      "grade_2": 40.61825515970618,
      "approved": 0
    },
    {
      "grade_1": 51.04775177128865,
      "grade_2": 45.82270145776001,
      "approved": 0
    },
    {
      "grade_1": 62.22267576120188,
      "grade_2": 52.06099194836679,
      "approved": 0
    },
    {
      "grade_1": 77.19303492601364,
      "grade_2": 70.45820000180959,
      "approved": 1
    },
    {
      "grade_1": 97.77159928000232,
      "grade_2": 86.7278223300282,
      "approved": 1
    },
    {
      "grade_1": 62.07306379667647,
      "grade_2": 96.76882412413983,
      "approved": 1
    },
    {
      "grade_1": 91.56497449807442,
      "grade_2": 88.696292545466,
      "approved": 1
    },
    {
      "grade_1": 79.94481794066932,
      "grade_2": 74.16311935043758,
      "approved": 1
    },
    {
      "grade_1": 99.2725269292572,
      "grade_2": 60.99903099844988,
      "approved": 1
    },
    {
      "grade_1": 90.54671411399852,
      "grade_2": 43.39060180650027,
      "approved": 1
    },
    {
      "grade_1": 34.52451385320009,
      "grade_2": 60.39634245837173,
      "approved": 0
    },
    {
      "grade_1": 50.2864961189907,
      "grade_2": 49.80453881323059,
      "approved": 0
    },
    {
      "grade_1": 49.58667721632031,
      "grade_2": 59.80895099453265,
      "approved": 0
    },
    {
      "grade_1": 97.64563396007767,
      "grade_2": 68.86157272420604,
      "approved": 1
    },
    {
      "grade_1": 32.57720016809309,
      "grade_2": 95.59854761387875,
      "approved": 0
    },
    {
      "grade_1": 74.24869136721598,
      "grade_2": 69.82457122657193,
      "approved": 1
    },
    {
      "grade_1": 71.7964620586338,
      "grade_2": 78.45356224515052,
      "approved": 1
    },
    {
      "grade_1": 75.3956114656803,
      "grade_2": 85.75993667331619,
      "approved": 1
    },
    {
      "grade_1": 35.28611281526193,
      "grade_2": 47.02051394723416,
      "approved": 0
    },
    {
      "grade_1": 56.25381749711624,
      "grade_2": 39.26147251058019,
      "approved": 0
    },
    {
      "grade_1": 30.05882244669796,
      "grade_2": 49.59297386723685,
      "approved": 0
    },
    {
      "grade_1": 44.66826172480893,
      "grade_2": 66.45008614558913,
      "approved": 0
    },
    {
      "grade_1": 66.56089447242954,
      "grade_2": 41.09209807936973,
      "approved": 0
    },
    {
      "grade_1": 40.45755098375164,
      "grade_2": 97.53518548909936,
      "approved": 1
    },
    {
      "grade_1": 49.07256321908844,
      "grade_2": 51.88321182073966,
      "approved": 0
    },
    {
      "grade_1": 80.27957401466998,
      "grade_2": 92.11606081344084,
      "approved": 1
    },
    {
      "grade_1": 66.74671856944039,
      "grade_2": 60.99139402740988,
      "approved": 1
    },
    {
      "grade_1": 32.72283304060323,
      "grade_2": 43.30717306430063,
      "approved": 0
    },
    {
      "grade_1": 64.0393204150601,
      "grade_2": 78.03168802018232,
      "approved": 1
    },
    {
      "grade_1": 72.34649422579923,
      "grade_2": 96.22759296761404,
      "approved": 1
    },
    {
      "grade_1": 60.45788573918959,
      "grade_2": 73.09499809758037,
      "approved": 1
    },
    {
      "grade_1": 58.84095621726802,
      "grade_2": 75.85844831279042,
      "approved": 1
    },
    {
      "grade_1": 99.82785779692128,
      "grade_2": 72.36925193383885,
      "approved": 1
    },
    {
      "grade_1": 47.26426910848174,
      "grade_2": 88.47586499559782,
      "approved": 1
    },
    {
      "grade_1": 50.45815980285988,
      "grade_2": 75.80985952982456,
      "approved": 1
    },
    {
      "grade_1": 60.45555629271532,
      "grade_2": 42.50840943572217,
      "approved": 0
    },
    {
      "grade_1": 82.22666157785568,
      "grade_2": 42.71987853716458,
      "approved": 0
    },
    {
      "grade_1": 88.9138964166533,
      "grade_2": 69.80378889835472,
      "approved": 1
    },
    {
      "grade_1": 94.83450672430196,
      "grade_2": 45.69430680250754,
      "approved": 1
    },
    {
      "grade_1": 67.31925746917527,
      "grade_2": 66.58935317747915,
      "approved": 1
    },
    {
      "grade_1": 57.23870631569862,
      "grade_2": 59.51428198012956,
      "approved": 1
    },
    {
      "grade_1": 80.36675600171273,
      "grade_2": 90.96014789746954,
      "approved": 1
    },
    {
      "grade_1": 68.46852178591112,
      "grade_2": 85.59430710452014,
      "approved": 1
    },
    {
      "grade_1": 42.0754545384731,
      "grade_2": 78.84478600148043,
      "approved": 0
    },
    {
      "grade_1": 75.47770200533905,
      "grade_2": 90.42453899753964,
      "approved": 1
    },
    {
      "grade_1": 78.63542434898018,
      "grade_2": 96.64742716885644,
      "approved": 1
    },
    {
      "grade_1": 52.34800398794107,
      "grade_2": 60.76950525602592,
      "approved": 0
    },
    {
      "grade_1": 94.09433112516793,
      "grade_2": 77.15910509073893,
      "approved": 1
    },
    {
      "grade_1": 90.44855097096364,
      "grade_2": 87.50879176484702,
      "approved": 1
    },
    {
      "grade_1": 55.48216114069585,
      "grade_2": 35.57070347228866,
      "approved": 0
    },
    {
      "grade_1": 74.49269241843041,
      "grade_2": 84.84513684930135,
      "approved": 1
    },
    {
      "grade_1": 89.84580670720979,
      "grade_2": 45.35828361091658,
      "approved": 1
    },
    {
      "grade_1": 83.48916274498238,
      "grade_2": 48.38028579728175,
      "approved": 1
    },
    {
      "grade_1": 42.2617008099817,
      "grade_2": 87.10385094025457,
      "approved": 1
    },
    {
      "grade_1": 99.31500880510394,
      "grade_2": 68.77540947206617,
      "approved": 1
    },
    {
      "grade_1": 55.34001756003703,
      "grade_2": 64.9319380069486,
      "approved": 1
    },
    {
      "grade_1": 74.77589300092767,
      "grade_2": 89.52981289513276,
      "approved": 1
    }
  ],

  get extract() {
    let X = this.data.map(x => [1.0, x.grade_1, x.grade_2])
    let y = this.data.map(x => x.approved)
    return { X, y }
  },

  get normalized() {
    let X1 = this.data.map(x => [x.grade_1, x.grade_2])
    let X = utils.normalize(X1)
      .map(x1 => [1.0, x1[0], x1[1]])
    let y = this.data.map(x => x.approved)
    return { X, y }
  },

  get matrix() {
    let X = this.data.map(x => [x.grade_1, x.grade_2])
    let y = this.data.map(x => [x.approved])
    let mat = _.zip(X, y).map((r: any) => [...r[0], ...r[1]])
    return [
      ...mat.map(r => {
        if (r[2] == 1) { return [r[0], r[1], null] }
        else { return [r[0], null, r[1]] }
      })
    ]
  },

  get normalMatrix() {
    let X1 = this.data.map(x => [x.grade_1, x.grade_2])
    let X = utils.normalize(X1)
    let y = this.data.map(x => [x.approved])
    let mat = _.zip(X, y).map((r: any) => [...r[0], ...r[1]])
    return [
      ...mat.map(r => {
        if (r[2] == 1) { return [r[0], r[1], null] }
        else { return [r[0], null, r[1]] }
      })
    ]
  }
}